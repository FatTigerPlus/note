并发和并行的区别：

> 1. 并发：一个处理器同时处理多个任务。
> 2. 并行：多个（多核）处理器同时处理多个任务。

happen before:

COW(copy on write):写时复制，fork方法是linux主要用来创建进程的方法（新进程是通过老的进程复制本身得到，这个就是fork），fork创建出的子进程，与父进程共享内存空间。也就是说，如果子进程不对内存空间进行写入操作的话，内存空间中的数据并不会复制给子进程，这样创建子进程的速度就很快了！(不用复制，直接引用父进程的物理空间)。当父子进程中有更改相应段的行为发生时**，再**为子进程相应的段分配物理空间。

MESI:

内存重排：

1. 编译器重排：
2. CPU重排：

single byte

